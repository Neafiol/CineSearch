ERROR:TeleBot:AttributeError occurred, args=("'User' object has no attribute 'nicname'",)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 83, in startf
    nicname=str(message.from_user.nicname))
AttributeError: 'User' object has no attribute 'nicname'

ERROR:TeleBot:AttributeError occurred, args=("'User' object has no attribute 'nicname'",)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 84, in startf
    nicname=str(message.from_user.nicname))
AttributeError: 'User' object has no attribute 'nicname'

ERROR:TeleBot:ConnectionError occurred, args=(ProtocolError('Connection aborted.', OSError("(10054, 'WSAECONNRESET')")),)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\connectionpool.py", line 603, in urlopen
    chunked=chunked)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\connectionpool.py", line 387, in _make_request
    six.raise_from(e, None)
  File "<string>", line 2, in raise_from
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\connectionpool.py", line 383, in _make_request
    httplib_response = conn.getresponse()
  File "C:\Users\Petr\Anaconda3\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\Petr\Anaconda3\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\Petr\Anaconda3\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\Petr\Anaconda3\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\contrib\pyopenssl.py", line 319, in recv_into
    return self.recv_into(*args, **kwargs)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\contrib\pyopenssl.py", line 309, in recv_into
    raise SocketError(str(e))
OSError: (10054, 'WSAECONNRESET')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\requests\adapters.py", line 449, in send
    timeout=timeout
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\connectionpool.py", line 641, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\util\retry.py", line 368, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\packages\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\connectionpool.py", line 603, in urlopen
    chunked=chunked)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\connectionpool.py", line 387, in _make_request
    six.raise_from(e, None)
  File "<string>", line 2, in raise_from
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\connectionpool.py", line 383, in _make_request
    httplib_response = conn.getresponse()
  File "C:\Users\Petr\Anaconda3\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\Petr\Anaconda3\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\Petr\Anaconda3\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\Petr\Anaconda3\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\contrib\pyopenssl.py", line 319, in recv_into
    return self.recv_into(*args, **kwargs)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\contrib\pyopenssl.py", line 309, in recv_into
    raise SocketError(str(e))
urllib3.exceptions.ProtocolError: ('Connection aborted.', OSError("(10054, 'WSAECONNRESET')"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\__init__.py", line 276, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1), timeout=timeout)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\__init__.py", line 246, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 180, in get_updates
    return _make_request(token, method_url, params=payload)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 54, in _make_request
    timeout=(connect_timeout, read_timeout), proxies=proxy)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\requests\sessions.py", line 533, in request
    resp = self.send(prep, **send_kwargs)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\requests\sessions.py", line 646, in send
    r = adapter.send(request, **kwargs)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\requests\adapters.py", line 498, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', OSError("(10054, 'WSAECONNRESET')"))

ERROR:TeleBot:AttributeError occurred, args=("'Users' object has no attribute 'level'",)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 175, in repeat_all_messages
    print(u.level)
AttributeError: 'Users' object has no attribute 'level'

ERROR:TeleBot:FilmsDoesNotExist occurred, args=('<Model: Films> instance matching query does not exist:\nSQL: SELECT "t1"."id", "t1"."film_id", "t1"."name", "t1"."discr", "t1"."img", "t1"."youtube", "t1"."stars", "t1"."info", "t1"."selections", "t1"."likes", "t1"."dislikes" FROM "Films" AS "t1" WHERE ("t1"."film_id" = %s) LIMIT %s OFFSET %s\nParams: [1, 1, 0]',)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6619, in get
    return clone.execute(database)[0]
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 4093, in __getitem__
    return self.row_cache[item]
IndexError: list index out of range

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 181, in repeat_all_messages
    send_film(1,message.chat.id)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 52, in send_film
    films = Films.get(Films.film_id == film_id)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6201, in get
    return sq.get()
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6624, in get
    (clone.model, sql, params))
models.FilmsDoesNotExist: <Model: Films> instance matching query does not exist:
SQL: SELECT "t1"."id", "t1"."film_id", "t1"."name", "t1"."discr", "t1"."img", "t1"."youtube", "t1"."stars", "t1"."info", "t1"."selections", "t1"."likes", "t1"."dislikes" FROM "Films" AS "t1" WHERE ("t1"."film_id" = %s) LIMIT %s OFFSET %s
Params: [1, 1, 0]

ERROR:TeleBot:FilmsDoesNotExist occurred, args=('<Model: Films> instance matching query does not exist:\nSQL: SELECT "t1"."id", "t1"."film_id", "t1"."name", "t1"."discr", "t1"."img", "t1"."youtube", "t1"."stars", "t1"."info", "t1"."selections", "t1"."likes", "t1"."dislikes" FROM "Films" AS "t1" WHERE ("t1"."film_id" = %s) LIMIT %s OFFSET %s\nParams: [1, 1, 0]',)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6619, in get
    return clone.execute(database)[0]
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 4093, in __getitem__
    return self.row_cache[item]
IndexError: list index out of range

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 181, in repeat_all_messages
    send_film(1,message.chat.id)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 52, in send_film
    film = Films.get(Films.film_id == film_id)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6201, in get
    return sq.get()
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6624, in get
    (clone.model, sql, params))
models.FilmsDoesNotExist: <Model: Films> instance matching query does not exist:
SQL: SELECT "t1"."id", "t1"."film_id", "t1"."name", "t1"."discr", "t1"."img", "t1"."youtube", "t1"."stars", "t1"."info", "t1"."selections", "t1"."likes", "t1"."dislikes" FROM "Films" AS "t1" WHERE ("t1"."film_id" = %s) LIMIT %s OFFSET %s
Params: [1, 1, 0]

ERROR:TeleBot:AttributeError occurred, args=("'Films' object has no attribute 'split'",)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 184, in repeat_all_messages
    send_film(415358,message.chat.id)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 59, in send_film
    text="<b>"+film.name+"</b>\n".join(film.split(" ")[:100])+"..."
AttributeError: 'Films' object has no attribute 'split'

ERROR:TeleBot:ApiException occurred, args=('A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:\n[b\'{"ok":false,"error_code":400,"description":"Bad Request: can\\\'t parse entities: Unexpected end tag at byte offset 51"}\']',)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 184, in repeat_all_messages
    send_film(415358,message.chat.id)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 65, in send_film
    reply_markup=markup)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\__init__.py", line 636, in send_photo
    parse_mode, disable_notification))
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 262, in send_photo
    return _make_request(token, method_url, params=payload, files=files, method='post')
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 56, in _make_request
    return _check_result(method_name, result)['result']
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 75, in _check_result
    raise ApiException(msg, method_name, result)
telebot.apihelper.ApiException: A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:
[b'{"ok":false,"error_code":400,"description":"Bad Request: can\'t parse entities: Unexpected end tag at byte offset 51"}']

ERROR:TeleBot:A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:
[b'{"ok":false,"error_code":400,"description":"Bad Request: can\'t parse entities: Unexpected end tag at byte offset 51"}']
ERROR:TeleBot:ApiException occurred, args=('A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:\n[b\'{"ok":false,"error_code":400,"description":"Bad Request: can\\\'t parse entities: Expected end tag at byte offset 40"}\']',)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 184, in repeat_all_messages
    send_film(415358,message.chat.id)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 65, in send_film
    reply_markup=markup)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\__init__.py", line 636, in send_photo
    parse_mode, disable_notification))
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 262, in send_photo
    return _make_request(token, method_url, params=payload, files=files, method='post')
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 56, in _make_request
    return _check_result(method_name, result)['result']
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 75, in _check_result
    raise ApiException(msg, method_name, result)
telebot.apihelper.ApiException: A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:
[b'{"ok":false,"error_code":400,"description":"Bad Request: can\'t parse entities: Expected end tag at byte offset 40"}']

ERROR:TeleBot:A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:
[b'{"ok":false,"error_code":400,"description":"Bad Request: can\'t parse entities: Expected end tag at byte offset 40"}']
ERROR:TeleBot:ApiException occurred, args=('A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:\n[b\'{"ok":false,"error_code":400,"description":"Bad Request: can\\\'t parse entities: Expected end tag at byte offset 36"}\']',)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 184, in repeat_all_messages
    send_film(415358,message.chat.id)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 65, in send_film
    reply_markup=markup)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\__init__.py", line 636, in send_photo
    parse_mode, disable_notification))
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 262, in send_photo
    return _make_request(token, method_url, params=payload, files=files, method='post')
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 56, in _make_request
    return _check_result(method_name, result)['result']
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 75, in _check_result
    raise ApiException(msg, method_name, result)
telebot.apihelper.ApiException: A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:
[b'{"ok":false,"error_code":400,"description":"Bad Request: can\'t parse entities: Expected end tag at byte offset 36"}']

ERROR:TeleBot:A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:
[b'{"ok":false,"error_code":400,"description":"Bad Request: can\'t parse entities: Expected end tag at byte offset 36"}']
ERROR:TeleBot:ApiException occurred, args=('A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:\n[b\'{"ok":false,"error_code":400,"description":"Bad Request: message to delete not found"}\']',)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 214, in repeat_all_messages
    message_id=u.cfmes)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\__init__.py", line 619, in delete_message
    return apihelper.delete_message(self.token, chat_id, message_id)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 673, in delete_message
    return _make_request(token, method_url, params=payload)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 56, in _make_request
    return _check_result(method_name, result)['result']
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 75, in _check_result
    raise ApiException(msg, method_name, result)
telebot.apihelper.ApiException: A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:
[b'{"ok":false,"error_code":400,"description":"Bad Request: message to delete not found"}']

ERROR:TeleBot:A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:
[b'{"ok":false,"error_code":400,"description":"Bad Request: message to delete not found"}']
ERROR:TeleBot:AttributeError occurred, args=("'Users' object has no attribute 'likes'",)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 146, in repeat_all_messages
    u.likes.append(u.cfid)
AttributeError: 'Users' object has no attribute 'likes'

ERROR:TeleBot:SelectionsDoesNotExist occurred, args=('<Model: Selections> instance matching query does not exist:\nSQL: SELECT "t1"."id", "t1"."name", "t1"."user_id", "t1"."stars", "t1"."films" FROM "Selections" AS "t1" WHERE ("t1"."user_id" = %s) LIMIT %s OFFSET %s\nParams: [445330281, 1, 0]',)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6619, in get
    return clone.execute(database)[0]
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 4093, in __getitem__
    return self.row_cache[item]
IndexError: list index out of range

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 147, in repeat_all_messages
    s=Selections.get(user_id=u.tel_id)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6201, in get
    return sq.get()
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6624, in get
    (clone.model, sql, params))
models.SelectionsDoesNotExist: <Model: Selections> instance matching query does not exist:
SQL: SELECT "t1"."id", "t1"."name", "t1"."user_id", "t1"."stars", "t1"."films" FROM "Selections" AS "t1" WHERE ("t1"."user_id" = %s) LIMIT %s OFFSET %s
Params: [445330281, 1, 0]

ERROR:TeleBot:ApiException occurred, args=('A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:\n[b\'{"ok":false,"error_code":400,"description":"Bad Request: message to delete not found"}\']',)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 164, in repeat_all_messages
    message_id=u.cfmes)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\__init__.py", line 619, in delete_message
    return apihelper.delete_message(self.token, chat_id, message_id)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 673, in delete_message
    return _make_request(token, method_url, params=payload)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 56, in _make_request
    return _check_result(method_name, result)['result']
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 75, in _check_result
    raise ApiException(msg, method_name, result)
telebot.apihelper.ApiException: A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:
[b'{"ok":false,"error_code":400,"description":"Bad Request: message to delete not found"}']

ERROR:TeleBot:A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:
[b'{"ok":false,"error_code":400,"description":"Bad Request: message to delete not found"}']
ERROR:TeleBot:ApiException occurred, args=('A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:\n[b\'{"ok":false,"error_code":400,"description":"Bad Request: message to delete not found"}\']',)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 166, in repeat_all_messages
    message_id=u.cfmes)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\__init__.py", line 619, in delete_message
    return apihelper.delete_message(self.token, chat_id, message_id)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 673, in delete_message
    return _make_request(token, method_url, params=payload)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 56, in _make_request
    return _check_result(method_name, result)['result']
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 75, in _check_result
    raise ApiException(msg, method_name, result)
telebot.apihelper.ApiException: A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:
[b'{"ok":false,"error_code":400,"description":"Bad Request: message to delete not found"}']

ERROR:TeleBot:A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:
[b'{"ok":false,"error_code":400,"description":"Bad Request: message to delete not found"}']
ERROR:TeleBot:SelectionsDoesNotExist occurred, args=('<Model: Selections> instance matching query does not exist:\nSQL: SELECT "t1"."id", "t1"."name", "t1"."user_id", "t1"."stars", "t1"."films" FROM "Selections" AS "t1" WHERE ("t1"."user_id" = %s) LIMIT %s OFFSET %s\nParams: [445330281, 1, 0]',)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6619, in get
    return clone.execute(database)[0]
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 4093, in __getitem__
    return self.row_cache[item]
IndexError: list index out of range

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 147, in repeat_all_messages
    s=Selections.get(user_id=u.tel_id)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6201, in get
    return sq.get()
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6624, in get
    (clone.model, sql, params))
models.SelectionsDoesNotExist: <Model: Selections> instance matching query does not exist:
SQL: SELECT "t1"."id", "t1"."name", "t1"."user_id", "t1"."stars", "t1"."films" FROM "Selections" AS "t1" WHERE ("t1"."user_id" = %s) LIMIT %s OFFSET %s
Params: [445330281, 1, 0]

ERROR:TeleBot:SelectionsDoesNotExist occurred, args=('<Model: Selections> instance matching query does not exist:\nSQL: SELECT "t1"."id", "t1"."name", "t1"."user_id", "t1"."stars", "t1"."films" FROM "Selections" AS "t1" WHERE ("t1"."user_id" = %s) LIMIT %s OFFSET %s\nParams: [445330281, 1, 0]',)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6619, in get
    return clone.execute(database)[0]
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 4093, in __getitem__
    return self.row_cache[item]
IndexError: list index out of range

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 147, in repeat_all_messages
    s=Selections.get(user_id=u.tel_id)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6201, in get
    return sq.get()
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6624, in get
    (clone.model, sql, params))
models.SelectionsDoesNotExist: <Model: Selections> instance matching query does not exist:
SQL: SELECT "t1"."id", "t1"."name", "t1"."user_id", "t1"."stars", "t1"."films" FROM "Selections" AS "t1" WHERE ("t1"."user_id" = %s) LIMIT %s OFFSET %s
Params: [445330281, 1, 0]

ERROR:TeleBot:ApiException occurred, args=('A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:\n[b\'{"ok":false,"error_code":400,"description":"Bad Request: message identifier is not specified"}\']',)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 163, in repeat_all_messages
    message_id=u.cfmes)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\__init__.py", line 619, in delete_message
    return apihelper.delete_message(self.token, chat_id, message_id)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 673, in delete_message
    return _make_request(token, method_url, params=payload)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 56, in _make_request
    return _check_result(method_name, result)['result']
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 75, in _check_result
    raise ApiException(msg, method_name, result)
telebot.apihelper.ApiException: A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:
[b'{"ok":false,"error_code":400,"description":"Bad Request: message identifier is not specified"}']

ERROR:TeleBot:A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:
[b'{"ok":false,"error_code":400,"description":"Bad Request: message identifier is not specified"}']
ERROR:TeleBot:ApiException occurred, args=('A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:\n[b\'{"ok":false,"error_code":400,"description":"Bad Request: message identifier is not specified"}\']',)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 163, in repeat_all_messages
    message_id=u.cfmes)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\__init__.py", line 619, in delete_message
    return apihelper.delete_message(self.token, chat_id, message_id)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 673, in delete_message
    return _make_request(token, method_url, params=payload)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 56, in _make_request
    return _check_result(method_name, result)['result']
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 75, in _check_result
    raise ApiException(msg, method_name, result)
telebot.apihelper.ApiException: A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:
[b'{"ok":false,"error_code":400,"description":"Bad Request: message identifier is not specified"}']

ERROR:TeleBot:A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:
[b'{"ok":false,"error_code":400,"description":"Bad Request: message identifier is not specified"}']
ERROR:TeleBot:ApiException occurred, args=('A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:\n[b\'{"ok":false,"error_code":400,"description":"Bad Request: message identifier is not specified"}\']',)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 163, in repeat_all_messages
    message_id=u.cfmes)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\__init__.py", line 619, in delete_message
    return apihelper.delete_message(self.token, chat_id, message_id)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 673, in delete_message
    return _make_request(token, method_url, params=payload)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 56, in _make_request
    return _check_result(method_name, result)['result']
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 75, in _check_result
    raise ApiException(msg, method_name, result)
telebot.apihelper.ApiException: A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:
[b'{"ok":false,"error_code":400,"description":"Bad Request: message identifier is not specified"}']

ERROR:TeleBot:A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:
[b'{"ok":false,"error_code":400,"description":"Bad Request: message identifier is not specified"}']
ERROR:TeleBot:ApiException occurred, args=('A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:\n[b\'{"ok":false,"error_code":400,"description":"Bad Request: message identifier is not specified"}\']',)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 163, in repeat_all_messages
    message_id=u.cfmes)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\__init__.py", line 619, in delete_message
    return apihelper.delete_message(self.token, chat_id, message_id)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 673, in delete_message
    return _make_request(token, method_url, params=payload)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 56, in _make_request
    return _check_result(method_name, result)['result']
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 75, in _check_result
    raise ApiException(msg, method_name, result)
telebot.apihelper.ApiException: A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:
[b'{"ok":false,"error_code":400,"description":"Bad Request: message identifier is not specified"}']

ERROR:TeleBot:A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:
[b'{"ok":false,"error_code":400,"description":"Bad Request: message identifier is not specified"}']
ERROR:TeleBot:ApiException occurred, args=('A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:\n[b\'{"ok":false,"error_code":400,"description":"Bad Request: message identifier is not specified"}\']',)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 163, in repeat_all_messages
    message_id=u.cfmes)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\__init__.py", line 619, in delete_message
    return apihelper.delete_message(self.token, chat_id, message_id)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 673, in delete_message
    return _make_request(token, method_url, params=payload)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 56, in _make_request
    return _check_result(method_name, result)['result']
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 75, in _check_result
    raise ApiException(msg, method_name, result)
telebot.apihelper.ApiException: A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:
[b'{"ok":false,"error_code":400,"description":"Bad Request: message identifier is not specified"}']

ERROR:TeleBot:A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:
[b'{"ok":false,"error_code":400,"description":"Bad Request: message identifier is not specified"}']
ERROR:TeleBot:ApiException occurred, args=('A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:\n[b\'{"ok":false,"error_code":400,"description":"Bad Request: message identifier is not specified"}\']',)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 165, in repeat_all_messages
    message_id=u.cfmes)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\__init__.py", line 619, in delete_message
    return apihelper.delete_message(self.token, chat_id, message_id)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 673, in delete_message
    return _make_request(token, method_url, params=payload)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 56, in _make_request
    return _check_result(method_name, result)['result']
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 75, in _check_result
    raise ApiException(msg, method_name, result)
telebot.apihelper.ApiException: A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:
[b'{"ok":false,"error_code":400,"description":"Bad Request: message identifier is not specified"}']

ERROR:TeleBot:A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:
[b'{"ok":false,"error_code":400,"description":"Bad Request: message identifier is not specified"}']
ERROR:TeleBot:ProgrammingError occurred, args=('column t1.selections does not exist\nLINE 1: ...d", "t1"."viewed", "t1"."disliked", "t1"."films", "t1"."sele...\n                                                             ^\n',)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2981, in execute_sql
    cursor.execute(sql, params or ())
psycopg2.errors.UndefinedColumn: column t1.selections does not exist
LINE 1: ...d", "t1"."viewed", "t1"."disliked", "t1"."films", "t1"."sele...
                                                             ^


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 141, in repeat_all_messages
    u = Users.get_or_none(Users.tel_id == message.chat.id)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6206, in get_or_none
    return cls.get(*query, **filters)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6201, in get
    return sq.get()
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6619, in get
    return clone.execute(database)[0]
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 1796, in inner
    return method(self, database, *args, **kwargs)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 1867, in execute
    return self._execute(database)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2038, in _execute
    cursor = database.execute(self)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\playhouse\postgres_ext.py", line 468, in execute
    cursor = self.execute_sql(sql, params, commit=commit)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2988, in execute_sql
    self.commit()
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2759, in __exit__
    reraise(new_type, new_type(*exc_args), traceback)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 183, in reraise
    raise value.with_traceback(tb)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2981, in execute_sql
    cursor.execute(sql, params or ())
peewee.ProgrammingError: column t1.selections does not exist
LINE 1: ...d", "t1"."viewed", "t1"."disliked", "t1"."films", "t1"."sele...
                                                             ^


ERROR:TeleBot:ProgrammingError occurred, args=('column t1.selections does not exist\nLINE 1: ...d", "t1"."viewed", "t1"."disliked", "t1"."films", "t1"."sele...\n                                                             ^\n',)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2981, in execute_sql
    cursor.execute(sql, params or ())
psycopg2.errors.UndefinedColumn: column t1.selections does not exist
LINE 1: ...d", "t1"."viewed", "t1"."disliked", "t1"."films", "t1"."sele...
                                                             ^


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 84, in startf
    u = Users.get_or_none(Users.tel_id == message.chat.id)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6206, in get_or_none
    return cls.get(*query, **filters)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6201, in get
    return sq.get()
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6619, in get
    return clone.execute(database)[0]
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 1796, in inner
    return method(self, database, *args, **kwargs)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 1867, in execute
    return self._execute(database)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2038, in _execute
    cursor = database.execute(self)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\playhouse\postgres_ext.py", line 468, in execute
    cursor = self.execute_sql(sql, params, commit=commit)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2988, in execute_sql
    self.commit()
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2759, in __exit__
    reraise(new_type, new_type(*exc_args), traceback)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 183, in reraise
    raise value.with_traceback(tb)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2981, in execute_sql
    cursor.execute(sql, params or ())
peewee.ProgrammingError: column t1.selections does not exist
LINE 1: ...d", "t1"."viewed", "t1"."disliked", "t1"."films", "t1"."sele...
                                                             ^


ERROR:TeleBot:TypeError occurred, args=("'int' object is not iterable",)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 159, in repeat_all_messages
    selections_with_film = Selections.select().where(Selections.films << u.cfid).execute()
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 1796, in inner
    return method(self, database, *args, **kwargs)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 1867, in execute
    return self._execute(database)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2038, in _execute
    cursor = database.execute(self)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\playhouse\postgres_ext.py", line 463, in execute
    sql, params = ctx.sql(query).query()
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 604, in sql
    return obj.__sql__(self)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2282, in __sql__
    ctx.literal(' WHERE ').sql(self._where)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 604, in sql
    return obj.__sql__(self)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 1404, in __sql__
    if op_in and ctx.as_new().parse(self.rhs)[0] == '()':
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 637, in parse
    return self.sql(node).query()
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 608, in sql
    return self.sql(Value(obj))
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 604, in sql
    return obj.__sql__(self)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 1311, in __sql__
    return ctx.value(self.value, self.converter)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 622, in value
    value = self.state.converter(value)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\playhouse\postgres_ext.py", line 177, in db_value
    return value if isinstance(value, list) else list(value)
TypeError: 'int' object is not iterable

ERROR:TeleBot:ApiException occurred, args=('A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:\n[b\'{"ok":false,"error_code":400,"description":"Bad Request: message identifier is not specified"}\']',)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 191, in repeat_all_messages
    message_id=u.cfmes)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\__init__.py", line 619, in delete_message
    return apihelper.delete_message(self.token, chat_id, message_id)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 673, in delete_message
    return _make_request(token, method_url, params=payload)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 56, in _make_request
    return _check_result(method_name, result)['result']
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 75, in _check_result
    raise ApiException(msg, method_name, result)
telebot.apihelper.ApiException: A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:
[b'{"ok":false,"error_code":400,"description":"Bad Request: message identifier is not specified"}']

ERROR:TeleBot:A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:
[b'{"ok":false,"error_code":400,"description":"Bad Request: message identifier is not specified"}']
ERROR:TeleBot:ApiException occurred, args=('A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:\n[b\'{"ok":false,"error_code":400,"description":"Bad Request: message identifier is not specified"}\']',)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 191, in repeat_all_messages
    message_id=u.cfmes)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\__init__.py", line 619, in delete_message
    return apihelper.delete_message(self.token, chat_id, message_id)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 673, in delete_message
    return _make_request(token, method_url, params=payload)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 56, in _make_request
    return _check_result(method_name, result)['result']
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 75, in _check_result
    raise ApiException(msg, method_name, result)
telebot.apihelper.ApiException: A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:
[b'{"ok":false,"error_code":400,"description":"Bad Request: message identifier is not specified"}']

ERROR:TeleBot:A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:
[b'{"ok":false,"error_code":400,"description":"Bad Request: message identifier is not specified"}']
ERROR:TeleBot:ApiException occurred, args=('A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:\n[b\'{"ok":false,"error_code":400,"description":"Bad Request: message identifier is not specified"}\']',)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 191, in repeat_all_messages
    message_id=u.cfmes)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\__init__.py", line 619, in delete_message
    return apihelper.delete_message(self.token, chat_id, message_id)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 673, in delete_message
    return _make_request(token, method_url, params=payload)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 56, in _make_request
    return _check_result(method_name, result)['result']
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 75, in _check_result
    raise ApiException(msg, method_name, result)
telebot.apihelper.ApiException: A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:
[b'{"ok":false,"error_code":400,"description":"Bad Request: message identifier is not specified"}']

ERROR:TeleBot:A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:
[b'{"ok":false,"error_code":400,"description":"Bad Request: message identifier is not specified"}']
ERROR:TeleBot:ProgrammingError occurred, args=("can't adapt type 'numpy.int32'",)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2981, in execute_sql
    cursor.execute(sql, params or ())
psycopg2.ProgrammingError: can't adapt type 'numpy.int32'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 180, in repeat_all_messages
    next_film(message.chat.id)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 107, in next_film
    u.save()
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6309, in save
    rows = self.update(**field_dict).where(self._pk_expr()).execute()
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 1796, in inner
    return method(self, database, *args, **kwargs)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 1867, in execute
    return self._execute(database)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2336, in _execute
    cursor = database.execute(self)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\playhouse\postgres_ext.py", line 468, in execute
    cursor = self.execute_sql(sql, params, commit=commit)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2988, in execute_sql
    self.commit()
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2759, in __exit__
    reraise(new_type, new_type(*exc_args), traceback)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 183, in reraise
    raise value.with_traceback(tb)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2981, in execute_sql
    cursor.execute(sql, params or ())
peewee.ProgrammingError: can't adapt type 'numpy.int32'

ERROR:TeleBot:AttributeError occurred, args=("'int' object has no attribute 'execute'",)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 184, in repeat_all_messages
    next_film(message.chat.id)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 110, in next_film
    u.save().execute()
AttributeError: 'int' object has no attribute 'execute'

ERROR:TeleBot:ApiException occurred, args=('A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:\n[b\'{"ok":false,"error_code":400,"description":"Bad Request: message identifier is not specified"}\']',)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 230, in repeat_all_messages
    message_id=u.cfmes)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\__init__.py", line 619, in delete_message
    return apihelper.delete_message(self.token, chat_id, message_id)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 673, in delete_message
    return _make_request(token, method_url, params=payload)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 56, in _make_request
    return _check_result(method_name, result)['result']
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 75, in _check_result
    raise ApiException(msg, method_name, result)
telebot.apihelper.ApiException: A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:
[b'{"ok":false,"error_code":400,"description":"Bad Request: message identifier is not specified"}']

ERROR:TeleBot:A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:
[b'{"ok":false,"error_code":400,"description":"Bad Request: message identifier is not specified"}']
ERROR:TeleBot:ApiException occurred, args=('A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:\n[b\'{"ok":false,"error_code":400,"description":"Bad Request: message identifier is not specified"}\']',)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 230, in repeat_all_messages
    message_id=u.cfmes)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\__init__.py", line 619, in delete_message
    return apihelper.delete_message(self.token, chat_id, message_id)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 673, in delete_message
    return _make_request(token, method_url, params=payload)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 56, in _make_request
    return _check_result(method_name, result)['result']
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 75, in _check_result
    raise ApiException(msg, method_name, result)
telebot.apihelper.ApiException: A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:
[b'{"ok":false,"error_code":400,"description":"Bad Request: message identifier is not specified"}']

ERROR:TeleBot:A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:
[b'{"ok":false,"error_code":400,"description":"Bad Request: message identifier is not specified"}']
ERROR:TeleBot:ReadTimeout occurred, args=(ReadTimeoutError("HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=30)"),)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\connectionpool.py", line 387, in _make_request
    six.raise_from(e, None)
  File "<string>", line 2, in raise_from
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\connectionpool.py", line 383, in _make_request
    httplib_response = conn.getresponse()
  File "C:\Users\Petr\Anaconda3\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\Petr\Anaconda3\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\Petr\Anaconda3\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\Petr\Anaconda3\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\contrib\pyopenssl.py", line 317, in recv_into
    raise timeout('The read operation timed out')
socket.timeout: The read operation timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\requests\adapters.py", line 449, in send
    timeout=timeout
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\connectionpool.py", line 641, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\util\retry.py", line 368, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\packages\six.py", line 686, in reraise
    raise value
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\connectionpool.py", line 603, in urlopen
    chunked=chunked)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\connectionpool.py", line 389, in _make_request
    self._raise_timeout(err=e, url=url, timeout_value=read_timeout)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\connectionpool.py", line 307, in _raise_timeout
    raise ReadTimeoutError(self, url, "Read timed out. (read timeout=%s)" % timeout_value)
urllib3.exceptions.ReadTimeoutError: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=30)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\__init__.py", line 276, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1), timeout=timeout)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\__init__.py", line 246, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 180, in get_updates
    return _make_request(token, method_url, params=payload)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 54, in _make_request
    timeout=(connect_timeout, read_timeout), proxies=proxy)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\requests\sessions.py", line 533, in request
    resp = self.send(prep, **send_kwargs)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\requests\sessions.py", line 646, in send
    r = adapter.send(request, **kwargs)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\requests\adapters.py", line 529, in send
    raise ReadTimeout(e, request=request)
requests.exceptions.ReadTimeout: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=30)

ERROR:TeleBot:FeatureNotFound occurred, args=("Couldn't find a tree builder with the features you requested: html5lib. Do you need to install a parser library?",)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 200, in repeat_all_messages
    u=next_film(u,message.chat.id)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 114, in next_film
    u.cfmes = send_film(u.predict_films[0], message_id)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 60, in send_film
    ypage = BeautifulSoup(ypage, 'html5lib')
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\bs4\__init__.py", line 208, in __init__
    % ",".join(features))
bs4.FeatureNotFound: Couldn't find a tree builder with the features you requested: html5lib. Do you need to install a parser library?

ERROR:TeleBot:IntegrityError occurred, args=('duplicate key value violates unique constraint "Selections_pkey"\nDETAIL:  Key (id)=(1) already exists.\n',)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2981, in execute_sql
    cursor.execute(sql, params or ())
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "Selections_pkey"
DETAIL:  Key (id)=(1) already exists.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 147, in startf
    Selections.create(name=str(message.from_user.username), user_id=message.chat.id)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6122, in create
    inst.save(force_insert=True)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6311, in save
    pk = self.insert(**field_dict).execute()
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 1796, in inner
    return method(self, database, *args, **kwargs)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 1867, in execute
    return self._execute(database)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2599, in _execute
    return super(Insert, self)._execute(database)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2334, in _execute
    cursor = self.execute_returning(database)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2341, in execute_returning
    cursor = database.execute(self)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\playhouse\postgres_ext.py", line 468, in execute
    cursor = self.execute_sql(sql, params, commit=commit)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2988, in execute_sql
    self.commit()
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2759, in __exit__
    reraise(new_type, new_type(*exc_args), traceback)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 183, in reraise
    raise value.with_traceback(tb)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2981, in execute_sql
    cursor.execute(sql, params or ())
peewee.IntegrityError: duplicate key value violates unique constraint "Selections_pkey"
DETAIL:  Key (id)=(1) already exists.


ERROR:TeleBot:IntegrityError occurred, args=('duplicate key value violates unique constraint "Selections_pkey"\nDETAIL:  Key (id)=(2) already exists.\n',)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6619, in get
    return clone.execute(database)[0]
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 4093, in __getitem__
    return self.row_cache[item]
IndexError: list index out of range

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6243, in get_or_create
    return query.get(), False
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6624, in get
    (clone.model, sql, params))
models.SelectionsDoesNotExist: <Model: Selections> instance matching query does not exist:
SQL: SELECT "t1"."id", "t1"."name", "t1"."user_id", "t1"."stars", "t1"."films" FROM "Selections" AS "t1" WHERE (("t1"."name" = %s) AND ("t1"."user_id" = %s)) LIMIT %s OFFSET %s
Params: ['neafiol', 445330281, 1, 0]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 148, in startf
    Selections.get_or_create(name=str(message.from_user.username), user_id=message.chat.id)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6245, in get_or_create
    raise exc
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6240, in get_or_create
    return cls.create(**kwargs), True
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6122, in create
    inst.save(force_insert=True)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6311, in save
    pk = self.insert(**field_dict).execute()
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 1796, in inner
    return method(self, database, *args, **kwargs)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 1867, in execute
    return self._execute(database)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2599, in _execute
    return super(Insert, self)._execute(database)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2334, in _execute
    cursor = self.execute_returning(database)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2341, in execute_returning
    cursor = database.execute(self)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\playhouse\postgres_ext.py", line 468, in execute
    cursor = self.execute_sql(sql, params, commit=commit)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2988, in execute_sql
    self.commit()
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2759, in __exit__
    reraise(new_type, new_type(*exc_args), traceback)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 183, in reraise
    raise value.with_traceback(tb)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2981, in execute_sql
    cursor.execute(sql, params or ())
peewee.IntegrityError: duplicate key value violates unique constraint "Selections_pkey"
DETAIL:  Key (id)=(2) already exists.


ERROR:TeleBot:IntegrityError occurred, args=('duplicate key value violates unique constraint "Selections_pkey"\nDETAIL:  Key (id)=(3) already exists.\n',)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6619, in get
    return clone.execute(database)[0]
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 4093, in __getitem__
    return self.row_cache[item]
IndexError: list index out of range

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6243, in get_or_create
    return query.get(), False
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6624, in get
    (clone.model, sql, params))
models.SelectionsDoesNotExist: <Model: Selections> instance matching query does not exist:
SQL: SELECT "t1"."id", "t1"."name", "t1"."user_id", "t1"."stars", "t1"."films" FROM "Selections" AS "t1" WHERE (("t1"."name" = %s) AND ("t1"."user_id" = %s)) LIMIT %s OFFSET %s
Params: ['neafiol', 445330281, 1, 0]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 148, in startf
    Selections.get_or_create(name=str(message.from_user.username), user_id=message.chat.id)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6245, in get_or_create
    raise exc
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6240, in get_or_create
    return cls.create(**kwargs), True
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6122, in create
    inst.save(force_insert=True)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6311, in save
    pk = self.insert(**field_dict).execute()
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 1796, in inner
    return method(self, database, *args, **kwargs)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 1867, in execute
    return self._execute(database)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2599, in _execute
    return super(Insert, self)._execute(database)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2334, in _execute
    cursor = self.execute_returning(database)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2341, in execute_returning
    cursor = database.execute(self)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\playhouse\postgres_ext.py", line 468, in execute
    cursor = self.execute_sql(sql, params, commit=commit)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2988, in execute_sql
    self.commit()
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2759, in __exit__
    reraise(new_type, new_type(*exc_args), traceback)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 183, in reraise
    raise value.with_traceback(tb)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2981, in execute_sql
    cursor.execute(sql, params or ())
peewee.IntegrityError: duplicate key value violates unique constraint "Selections_pkey"
DETAIL:  Key (id)=(3) already exists.


ERROR:TeleBot:IntegrityError occurred, args=('duplicate key value violates unique constraint "Selections_pkey"\nDETAIL:  Key (id)=(1) already exists.\n',)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6619, in get
    return clone.execute(database)[0]
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 4093, in __getitem__
    return self.row_cache[item]
IndexError: list index out of range

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6243, in get_or_create
    return query.get(), False
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6624, in get
    (clone.model, sql, params))
models.SelectionsDoesNotExist: <Model: Selections> instance matching query does not exist:
SQL: SELECT "t1"."id", "t1"."name", "t1"."user_id", "t1"."stars", "t1"."films" FROM "Selections" AS "t1" WHERE (("t1"."name" = %s) AND ("t1"."user_id" = %s)) LIMIT %s OFFSET %s
Params: ['neafiol', 445330281, 1, 0]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 148, in startf
    Selections.get_or_create(name=str(message.from_user.username), user_id=message.chat.id)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6245, in get_or_create
    raise exc
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6240, in get_or_create
    return cls.create(**kwargs), True
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6122, in create
    inst.save(force_insert=True)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6311, in save
    pk = self.insert(**field_dict).execute()
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 1796, in inner
    return method(self, database, *args, **kwargs)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 1867, in execute
    return self._execute(database)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2599, in _execute
    return super(Insert, self)._execute(database)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2334, in _execute
    cursor = self.execute_returning(database)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2341, in execute_returning
    cursor = database.execute(self)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\playhouse\postgres_ext.py", line 468, in execute
    cursor = self.execute_sql(sql, params, commit=commit)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2988, in execute_sql
    self.commit()
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2759, in __exit__
    reraise(new_type, new_type(*exc_args), traceback)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 183, in reraise
    raise value.with_traceback(tb)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2981, in execute_sql
    cursor.execute(sql, params or ())
peewee.IntegrityError: duplicate key value violates unique constraint "Selections_pkey"
DETAIL:  Key (id)=(1) already exists.


ERROR:TeleBot:TypeError occurred, args=("edit_message_media() got an unexpected keyword argument 'photo'",)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 375, in repeat_all_messages
    u = next_film(u, message.chat.id, True)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 120, in next_film
    u.cfmes = send_film(u.predict_films[0], message_id, u.cfmes)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 75, in send_film
    reply_markup=markup)
TypeError: edit_message_media() got an unexpected keyword argument 'photo'

ERROR:TeleBot:TypeError occurred, args=("edit_message_media() got an unexpected keyword argument 'parse_mode'",)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 377, in repeat_all_messages
    message_id=u.cfmes)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 122, in next_film
    u.cfmes = send_film(u.predict_films[0], message_id, u.cfmes)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 77, in send_film
    reply_markup=markup)
TypeError: edit_message_media() got an unexpected keyword argument 'parse_mode'

ERROR:TeleBot:ConnectionError occurred, args=(ProtocolError('Connection aborted.', OSError("(10054, 'WSAECONNRESET')")),)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\connectionpool.py", line 603, in urlopen
    chunked=chunked)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\connectionpool.py", line 387, in _make_request
    six.raise_from(e, None)
  File "<string>", line 2, in raise_from
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\connectionpool.py", line 383, in _make_request
    httplib_response = conn.getresponse()
  File "C:\Users\Petr\Anaconda3\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\Petr\Anaconda3\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\Petr\Anaconda3\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\Petr\Anaconda3\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\contrib\pyopenssl.py", line 319, in recv_into
    return self.recv_into(*args, **kwargs)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\contrib\pyopenssl.py", line 309, in recv_into
    raise SocketError(str(e))
OSError: (10054, 'WSAECONNRESET')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\requests\adapters.py", line 449, in send
    timeout=timeout
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\connectionpool.py", line 641, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\util\retry.py", line 368, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\packages\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\connectionpool.py", line 603, in urlopen
    chunked=chunked)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\connectionpool.py", line 387, in _make_request
    six.raise_from(e, None)
  File "<string>", line 2, in raise_from
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\connectionpool.py", line 383, in _make_request
    httplib_response = conn.getresponse()
  File "C:\Users\Petr\Anaconda3\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\Petr\Anaconda3\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\Petr\Anaconda3\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\Petr\Anaconda3\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\contrib\pyopenssl.py", line 319, in recv_into
    return self.recv_into(*args, **kwargs)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\contrib\pyopenssl.py", line 309, in recv_into
    raise SocketError(str(e))
urllib3.exceptions.ProtocolError: ('Connection aborted.', OSError("(10054, 'WSAECONNRESET')"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\__init__.py", line 276, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1), timeout=timeout)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\__init__.py", line 246, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 180, in get_updates
    return _make_request(token, method_url, params=payload)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 54, in _make_request
    timeout=(connect_timeout, read_timeout), proxies=proxy)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\requests\sessions.py", line 533, in request
    resp = self.send(prep, **send_kwargs)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\requests\sessions.py", line 646, in send
    r = adapter.send(request, **kwargs)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\requests\adapters.py", line 498, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', OSError("(10054, 'WSAECONNRESET')"))

ERROR:TeleBot:TypeError occurred, args=('keys must be str, int, float, bool or None, not Selections',)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 384, in repeat_all_messages
    u.save()
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6309, in save
    rows = self.update(**field_dict).where(self._pk_expr()).execute()
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 1796, in inner
    return method(self, database, *args, **kwargs)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 1867, in execute
    return self._execute(database)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2336, in _execute
    cursor = database.execute(self)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\playhouse\postgres_ext.py", line 463, in execute
    sql, params = ctx.sql(query).query()
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 604, in sql
    return obj.__sql__(self)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2390, in __sql__
    .sql(CommaNodeList(expressions)))
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 604, in sql
    return obj.__sql__(self)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 1662, in __sql__
    ctx.sql(self.nodes[n_nodes - 1])
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 604, in sql
    return obj.__sql__(self)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 1662, in __sql__
    ctx.sql(self.nodes[n_nodes - 1])
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 604, in sql
    return obj.__sql__(self)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 1311, in __sql__
    return ctx.value(self.value, self.converter)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 616, in value
    value = converter(value)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\playhouse\postgres_ext.py", line 293, in db_value
    return Cast(self.dumps(value), self._json_datatype)
  File "C:\Users\Petr\Anaconda3\lib\json\__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
  File "C:\Users\Petr\Anaconda3\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "C:\Users\Petr\Anaconda3\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
TypeError: keys must be str, int, float, bool or None, not Selections

ERROR:TeleBot:TypeError occurred, args=('keys must be str, int, float, bool or None, not Selections',)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 382, in repeat_all_messages
    u.save()
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6309, in save
    rows = self.update(**field_dict).where(self._pk_expr()).execute()
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 1796, in inner
    return method(self, database, *args, **kwargs)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 1867, in execute
    return self._execute(database)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2336, in _execute
    cursor = database.execute(self)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\playhouse\postgres_ext.py", line 463, in execute
    sql, params = ctx.sql(query).query()
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 604, in sql
    return obj.__sql__(self)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2390, in __sql__
    .sql(CommaNodeList(expressions)))
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 604, in sql
    return obj.__sql__(self)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 1662, in __sql__
    ctx.sql(self.nodes[n_nodes - 1])
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 604, in sql
    return obj.__sql__(self)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 1662, in __sql__
    ctx.sql(self.nodes[n_nodes - 1])
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 604, in sql
    return obj.__sql__(self)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 1311, in __sql__
    return ctx.value(self.value, self.converter)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 616, in value
    value = converter(value)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\playhouse\postgres_ext.py", line 293, in db_value
    return Cast(self.dumps(value), self._json_datatype)
  File "C:\Users\Petr\Anaconda3\lib\json\__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
  File "C:\Users\Petr\Anaconda3\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "C:\Users\Petr\Anaconda3\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
TypeError: keys must be str, int, float, bool or None, not Selections

ERROR:TeleBot:TypeError occurred, args=('keys must be str, int, float, bool or None, not Selections',)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 383, in repeat_all_messages
    u.save()
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6309, in save
    rows = self.update(**field_dict).where(self._pk_expr()).execute()
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 1796, in inner
    return method(self, database, *args, **kwargs)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 1867, in execute
    return self._execute(database)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2336, in _execute
    cursor = database.execute(self)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\playhouse\postgres_ext.py", line 463, in execute
    sql, params = ctx.sql(query).query()
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 604, in sql
    return obj.__sql__(self)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2390, in __sql__
    .sql(CommaNodeList(expressions)))
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 604, in sql
    return obj.__sql__(self)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 1662, in __sql__
    ctx.sql(self.nodes[n_nodes - 1])
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 604, in sql
    return obj.__sql__(self)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 1662, in __sql__
    ctx.sql(self.nodes[n_nodes - 1])
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 604, in sql
    return obj.__sql__(self)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 1311, in __sql__
    return ctx.value(self.value, self.converter)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 616, in value
    value = converter(value)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\playhouse\postgres_ext.py", line 293, in db_value
    return Cast(self.dumps(value), self._json_datatype)
  File "C:\Users\Petr\Anaconda3\lib\json\__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
  File "C:\Users\Petr\Anaconda3\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "C:\Users\Petr\Anaconda3\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
TypeError: keys must be str, int, float, bool or None, not Selections

ERROR:TeleBot:AttributeError occurred, args=("'int' object has no attribute 'name'",)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 332, in repeat_all_messages
    buttons.append(types.InlineKeyboardButton(text=f.name, callback_data="film_" + str(f.film_id)))
AttributeError: 'int' object has no attribute 'name'

ERROR:TeleBot:ConnectionError occurred, args=(ProtocolError('Connection aborted.', OSError("(10054, 'WSAECONNRESET')")),)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\connectionpool.py", line 603, in urlopen
    chunked=chunked)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\connectionpool.py", line 387, in _make_request
    six.raise_from(e, None)
  File "<string>", line 2, in raise_from
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\connectionpool.py", line 383, in _make_request
    httplib_response = conn.getresponse()
  File "C:\Users\Petr\Anaconda3\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\Petr\Anaconda3\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\Petr\Anaconda3\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\Petr\Anaconda3\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\contrib\pyopenssl.py", line 319, in recv_into
    return self.recv_into(*args, **kwargs)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\contrib\pyopenssl.py", line 309, in recv_into
    raise SocketError(str(e))
OSError: (10054, 'WSAECONNRESET')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\requests\adapters.py", line 449, in send
    timeout=timeout
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\connectionpool.py", line 641, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\util\retry.py", line 368, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\packages\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\connectionpool.py", line 603, in urlopen
    chunked=chunked)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\connectionpool.py", line 387, in _make_request
    six.raise_from(e, None)
  File "<string>", line 2, in raise_from
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\connectionpool.py", line 383, in _make_request
    httplib_response = conn.getresponse()
  File "C:\Users\Petr\Anaconda3\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\Petr\Anaconda3\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\Petr\Anaconda3\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\Petr\Anaconda3\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\contrib\pyopenssl.py", line 319, in recv_into
    return self.recv_into(*args, **kwargs)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\contrib\pyopenssl.py", line 309, in recv_into
    raise SocketError(str(e))
urllib3.exceptions.ProtocolError: ('Connection aborted.', OSError("(10054, 'WSAECONNRESET')"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\__init__.py", line 276, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1), timeout=timeout)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\__init__.py", line 246, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 180, in get_updates
    return _make_request(token, method_url, params=payload)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 54, in _make_request
    timeout=(connect_timeout, read_timeout), proxies=proxy)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\requests\sessions.py", line 533, in request
    resp = self.send(prep, **send_kwargs)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\requests\sessions.py", line 646, in send
    r = adapter.send(request, **kwargs)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\requests\adapters.py", line 498, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', OSError("(10054, 'WSAECONNRESET')"))

ERROR:TeleBot:ApiException occurred, args=('A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:\n[b\'{"ok":false,"error_code":400,"description":"Bad Request: query is too old and response timeout expired or query ID is invalid"}\']',)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 316, in callback
    bot.answer_callback_query(call.id, text="")
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\__init__.py", line 1093, in answer_callback_query
    return apihelper.answer_callback_query(self.token, callback_query_id, text, show_alert, url, cache_time)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 867, in answer_callback_query
    return _make_request(token, method_url, params=payload, method='post')
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 56, in _make_request
    return _check_result(method_name, result)['result']
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 75, in _check_result
    raise ApiException(msg, method_name, result)
telebot.apihelper.ApiException: A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:
[b'{"ok":false,"error_code":400,"description":"Bad Request: query is too old and response timeout expired or query ID is invalid"}']

ERROR:TeleBot:A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:
[b'{"ok":false,"error_code":400,"description":"Bad Request: query is too old and response timeout expired or query ID is invalid"}']
ERROR:TeleBot:ProgrammingError occurred, args=('column t1.ctmes does not exist\nLINE 1: ...1"."info", "t1"."cms", "t1"."cfid", "t1"."cfmes", "t1"."ctme...\n                                                             ^\nHINT:  Perhaps you meant to reference the column "t1.cfmes".\n',)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2981, in execute_sql
    cursor.execute(sql, params or ())
psycopg2.errors.UndefinedColumn: column t1.ctmes does not exist
LINE 1: ...1"."info", "t1"."cms", "t1"."cfid", "t1"."cfmes", "t1"."ctme...
                                                             ^
HINT:  Perhaps you meant to reference the column "t1.cfmes".


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 165, in menu
    u = Users.get(Users.tel_id == message.chat.id)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6201, in get
    return sq.get()
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 6619, in get
    return clone.execute(database)[0]
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 1796, in inner
    return method(self, database, *args, **kwargs)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 1867, in execute
    return self._execute(database)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2038, in _execute
    cursor = database.execute(self)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\playhouse\postgres_ext.py", line 468, in execute
    cursor = self.execute_sql(sql, params, commit=commit)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2988, in execute_sql
    self.commit()
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2759, in __exit__
    reraise(new_type, new_type(*exc_args), traceback)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 183, in reraise
    raise value.with_traceback(tb)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\peewee.py", line 2981, in execute_sql
    cursor.execute(sql, params or ())
peewee.ProgrammingError: column t1.ctmes does not exist
LINE 1: ...1"."info", "t1"."cms", "t1"."cfid", "t1"."cfmes", "t1"."ctme...
                                                             ^
HINT:  Perhaps you meant to reference the column "t1.cfmes".


ERROR:TeleBot:ApiException occurred, args=('A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:\n[b\'{"ok":false,"error_code":400,"description":"Bad Request: message to delete not found"}\']',)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 414, in repeat_all_messages
    u = next_film(u, message.chat.id, True)
  File "B:/programers_files/Projects/CineSearch/TgBot/bot/telsent.py", line 124, in next_film
    message_id=u.ctmes
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\__init__.py", line 619, in delete_message
    return apihelper.delete_message(self.token, chat_id, message_id)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 673, in delete_message
    return _make_request(token, method_url, params=payload)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 56, in _make_request
    return _check_result(method_name, result)['result']
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 75, in _check_result
    raise ApiException(msg, method_name, result)
telebot.apihelper.ApiException: A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:
[b'{"ok":false,"error_code":400,"description":"Bad Request: message to delete not found"}']

ERROR:TeleBot:A request to the Telegram API was unsuccessful. The server returned HTTP 400 Bad Request. Response body:
[b'{"ok":false,"error_code":400,"description":"Bad Request: message to delete not found"}']
ERROR:TeleBot:ReadTimeout occurred, args=(ReadTimeoutError("HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=30)"),)
Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\connectionpool.py", line 387, in _make_request
    six.raise_from(e, None)
  File "<string>", line 2, in raise_from
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\connectionpool.py", line 383, in _make_request
    httplib_response = conn.getresponse()
  File "C:\Users\Petr\Anaconda3\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\Petr\Anaconda3\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\Petr\Anaconda3\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\Petr\Anaconda3\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\contrib\pyopenssl.py", line 317, in recv_into
    raise timeout('The read operation timed out')
socket.timeout: The read operation timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\requests\adapters.py", line 449, in send
    timeout=timeout
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\connectionpool.py", line 641, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\util\retry.py", line 368, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\packages\six.py", line 686, in reraise
    raise value
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\connectionpool.py", line 603, in urlopen
    chunked=chunked)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\connectionpool.py", line 389, in _make_request
    self._raise_timeout(err=e, url=url, timeout_value=read_timeout)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\urllib3\connectionpool.py", line 307, in _raise_timeout
    raise ReadTimeoutError(self, url, "Read timed out. (read timeout=%s)" % timeout_value)
urllib3.exceptions.ReadTimeoutError: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=30)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\util.py", line 59, in run
    task(*args, **kwargs)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\__init__.py", line 276, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1), timeout=timeout)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\__init__.py", line 246, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 180, in get_updates
    return _make_request(token, method_url, params=payload)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\telebot\apihelper.py", line 54, in _make_request
    timeout=(connect_timeout, read_timeout), proxies=proxy)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\requests\sessions.py", line 533, in request
    resp = self.send(prep, **send_kwargs)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\requests\sessions.py", line 646, in send
    r = adapter.send(request, **kwargs)
  File "B:\programers_files\Projects\CineSearch\TgBot\venv\lib\site-packages\requests\adapters.py", line 529, in send
    raise ReadTimeout(e, request=request)
requests.exceptions.ReadTimeout: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=30)

